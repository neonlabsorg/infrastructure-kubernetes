---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  namespace: neon-proxy
  name: neon-proxy-indexer-metrics
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    nginx.ingress.kubernetes.io/rewrite-target: /metrics
    nginx.ingress.kubernetes.io/whitelist-source-range: 89.115.99.216/32,3.77.206.45/32,91.202.26.168/32,5.75.201.251/32,57.128.101.60/32,95.106.152.75/32,138.68.64.229/32,62.109.27.251/32,13.41.24.213/32,18.219.45.125/32,122.161.53.224/32,65.108.226.150/32,65.108.234.56/32,65.108.204.241/32,94.142.140.213/32,49.12.237.109/32,5.18.243.245/32,3.75.16.83/32,98.226.203.20/32,157.90.77.180/32,35.178.56.115/32,116.203.53.74/32,213.58.177.222/32,51.222.152.246/32,174.4.5.160/32,157.90.236.85/32,191.80.159.13/32,155.138.196.248/32,37.19.213.249/32,50.98.5.150/32,86.48.11.240/32,95.217.193.114/32,191.80.191.32/32,182.253.75.233/32,185.16.205.70/32,185.213.83.115/32,185.213.83.79/32,1.2.3.4/32,54.255.145.66/32,70.73.178.132/32,64.78.234.201/32,44.216.101.42/32,100.25.57.165/32,65.108.51.154/32,193.163.18.157/32,159.69.35.25/32,44.216.101.42/32,100.25.57.165/32,34.196.128.185/32,122.3.207.69/32,161.49.100.214/32,116.203.131.134/32,9.8.7.6/32,52.58.116.164/32,18.143.54.241/32,13.213.121.179/32,18.143.54.241/32,18.142.144.1/32,18.142.244.199/32,54.255.183.17/32
spec:
  ingressClassName: nginx
  rules:
    - http:
        paths:
        - path: /indexer/metrics
          pathType: Prefix
          backend:
            service:
              name: indexer-svc
              port:
                number: 8888
